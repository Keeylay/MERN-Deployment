{"ast":null,"code":"import _defineProperty from\"C:/Users/Kyle/Desktop/codingdojo/MERN/MongoDB/Pet_Shelter/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/Users/Kyle/Desktop/codingdojo/MERN/MongoDB/Pet_Shelter/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/Kyle/Desktop/codingdojo/MERN/MongoDB/Pet_Shelter/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import axios from'axios';import{navigate,Link}from'@reach/router';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var EditPet=function EditPet(props){var _useState=useState({title:\"\",type:\"\",description:\"\",skills1:\"\",skills2:\"\",skills3:\"\"}),_useState2=_slicedToArray(_useState,2),petInfo=_useState2[0],setPetInfo=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),errors=_useState4[0],setErrors=_useState4[1];useEffect(function(){axios.get(\"http://localhost:8000/api/pet/\".concat(props._id)).then(function(res){setPetInfo(res.data.pets);}).catch(function(err){return console.log('Somethings wrong with Axios call',err);});},[]);var changeHandler=function changeHandler(e){setPetInfo(_objectSpread(_objectSpread({},petInfo),{},_defineProperty({},e.target.name,e.target.value)));};var submitHandler=function submitHandler(e){e.preventDefault();axios.put(\"http://localhost:8000/api/pet/edit/\".concat(props._id),petInfo).then(function(res){console.log('************************',res);if(res.data.error){setErrors(res.data.error.errors);}else{setPetInfo(res.data.pet);navigate('/');}}).catch(function(err){return console.log('Somethings wrong with Axios call',err);});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Edit \",petInfo.title]}),/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"card-link\",children:\"Home\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitHandler,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Title:\"}),/*#__PURE__*/_jsx(\"input\",{onChange:changeHandler,type:\"text\",name:\"title\",id:\"\",className:\"form-control\",value:petInfo.title}),/*#__PURE__*/_jsx(\"p\",{className:\"alert-danger\",children:errors.title?errors.title.message:null})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Type:\"}),/*#__PURE__*/_jsx(\"input\",{onChange:changeHandler,type:\"text\",name:\"type\",id:\"\",className:\"form-control\",value:petInfo.type}),/*#__PURE__*/_jsx(\"p\",{className:\"alert-danger\",children:errors.type?errors.type.message:null})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Description:\"}),/*#__PURE__*/_jsx(\"textarea\",{onChange:changeHandler,name:\"description\",id:\"\",cols:\"20\",rows:\"5\",className:\"form-control\",value:petInfo.description}),/*#__PURE__*/_jsx(\"p\",{className:\"alert-danger\",children:errors.description?errors.description.message:null})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Skills (optional):\"}),/*#__PURE__*/_jsx(\"label\",{children:\"Skill 1:\"}),/*#__PURE__*/_jsx(\"input\",{onChange:changeHandler,type:\"text\",name:\"skills1\",id:\"\",className:\"form-control\",value:petInfo.skills1}),/*#__PURE__*/_jsx(\"label\",{children:\"Skill 2:\"}),/*#__PURE__*/_jsx(\"input\",{onChange:changeHandler,type:\"text\",name:\"skills2\",id:\"\",className:\"form-control\",value:petInfo.skills2}),/*#__PURE__*/_jsx(\"label\",{children:\"Skill 3:\"}),/*#__PURE__*/_jsx(\"input\",{onChange:changeHandler,type:\"text\",name:\"skills3\",id:\"\",className:\"form-control\",value:petInfo.skills3})]}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Edit Pet\"})]})})]});};export default EditPet;","map":{"version":3,"sources":["C:/Users/Kyle/Desktop/codingdojo/MERN/MongoDB/Pet_Shelter/client/src/components/EditPet.jsx"],"names":["React","useEffect","useState","axios","navigate","Link","EditPet","props","title","type","description","skills1","skills2","skills3","petInfo","setPetInfo","errors","setErrors","get","_id","then","res","data","pets","catch","err","console","log","changeHandler","e","target","name","value","submitHandler","preventDefault","put","error","pet","message"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport axios from 'axios';\r\nimport { navigate, Link } from '@reach/router';\r\n\r\nconst EditPet = (props) => {\r\n    \r\n    const [petInfo, setPetInfo] = useState({\r\n        title:\"\",\r\n        type:\"\",\r\n        description: \"\",\r\n        skills1: \"\",\r\n        skills2: \"\",\r\n        skills3: \"\"\r\n    }) \r\n\r\n    const [errors, setErrors] = useState ({})\r\n\r\n    useEffect(() => {\r\n        axios.get(`http://localhost:8000/api/pet/${props._id}`)\r\n        .then(res => {\r\n            setPetInfo(res.data.pets)\r\n        })\r\n        .catch(err => console.log('Somethings wrong with Axios call', err))\r\n    }, [])\r\n\r\n    const changeHandler = (e) => {\r\n        setPetInfo({\r\n            ...petInfo,\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    const submitHandler = (e) => {\r\n        e.preventDefault();\r\n        axios.put(`http://localhost:8000/api/pet/edit/${props._id}`, petInfo)\r\n            .then (res => {\r\n                console.log('************************', res)\r\n                if (res.data.error) {\r\n                    setErrors(res.data.error.errors)\r\n                } else {\r\n                    setPetInfo(res.data.pet)\r\n                    navigate('/')\r\n                }\r\n            })\r\n            .catch(err => console.log('Somethings wrong with Axios call', err))\r\n    }\r\n\r\n    return (\r\n        <div>   \r\n            <h2>Edit {petInfo.title}</h2>\r\n            <Link to = \"/\" className = \"card-link\">Home</Link>\r\n            <div className = \"container\">\r\n                <form onSubmit = {submitHandler}> \r\n                    <div className = \"form-group\">\r\n                        <label>Title:</label>\r\n                        <input onChange = {changeHandler} type = \"text\" name = \"title\" id = \"\" className = \"form-control\" value = {petInfo.title} />\r\n                        <p className = \"alert-danger\">{errors.title? errors.title.message:null}</p>\r\n                    </div>\r\n                    <div className = \"form-group\">\r\n                        <label>Type:</label>\r\n                        <input onChange = {changeHandler} type = \"text\" name = \"type\" id = \"\" className = \"form-control\" value = {petInfo.type} />\r\n                        <p className = \"alert-danger\">{errors.type? errors.type.message:null}</p>\r\n                    </div>\r\n                    <div className = \"form-group\">\r\n                        <label>Description:</label>\r\n                        <textarea onChange = {changeHandler} name=\"description\" id=\"\" cols=\"20\" rows=\"5\" className =\"form-control\" value = {petInfo.description} />\r\n                        <p className = \"alert-danger\">{errors.description? errors.description.message:null}</p>\r\n                    </div>\r\n                    <div className = \"form-group\">\r\n                    <h4>Skills (optional):</h4>\r\n                    <label>Skill 1:</label>\r\n                    <input onChange = {changeHandler} type = \"text\" name = \"skills1\" id = \"\" className = \"form-control\" value = {petInfo.skills1} />\r\n                    <label>Skill 2:</label>\r\n                    <input onChange = {changeHandler} type = \"text\" name = \"skills2\" id = \"\" className = \"form-control\" value = {petInfo.skills2}/>\r\n                    <label>Skill 3:</label>\r\n                    <input onChange = {changeHandler} type = \"text\" name = \"skills3\" id = \"\" className = \"form-control\" value = {petInfo.skills3} />\r\n                </div>\r\n                    <input type = \"submit\" value = \"Edit Pet\" />\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default EditPet;"]},"metadata":{},"sourceType":"module"}